{"version":3,"file":"output.min.js","sources":["../../app/config.js","../../lib/request-handler.js","../../lib/utility.js","../../test/ServerSpec.js"],"names":["mongoose","require","Bookshelf","path","grunt","connect","db","connection","on","console","error","bind","once","callback","userSchema","Schema","username","String","password","module","exports","request","crypto","bcrypt","util","User","Link","Users","Links","renderIndex","req","res","render","signupUserForm","loginUserForm","logoutUser","session","destroy","redirect","fetchLinks","reset","fetch","then","links","send","models","saveLink","uri","body","url","isValidUrl","found","attributes","getUrlTitle","err","title","log","link","base_url","headers","origin","save","newLink","add","loginUser","user","comparePassword","match","createSession","signupUser","newUser","navToLink","code","params","set","visits","get","cb","html","tag","rValidUrl","isLoggedIn","checkUser","next","regenerate","express","expect","app","xdescribe","beforeEach","done","end","remove","exec","describe","it","post","to","equal","be","ok","findOne","firstCode","secondCode","sha","location"],"mappings":"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"}